# GLM-4.6V Model Configurations (Simplified Format)
# This file is compiled to data/models/generated/glm46v.yaml

vendor: zai-org

defaults:
  hardware:
    H100: { tp: 8, extra_args: ["--mm-enable-dp-encoder"] }
    H200: { tp: 8, extra_args: ["--mm-enable-dp-encoder"] }
    B200: { tp: 8, extra_args: ["--mm-enable-dp-encoder"] }
  configurations:
    - name: default
      nodes: single
      optimization: balanced

families:
  - name: GLM-4.6V
    description: GLM-4.6V vision-language model family
    llm:
      thinking_capability: hybrid
      tool_parser: glm45
      reasoning_parser: glm45

    models:
      # GLM-4.6V (106B) - base model uses empty base_name since it matches family name
      - base_name: ""
        quantizations: [bf16, fp8]

      # GLM-4.6V-Flash (9B) - override tp to 1, no mm-enable-dp-encoder
      - base_name: Flash
        quantizations: [bf16, fp8]
        hardware:
          default: { tp: 1, extra_args: [] }
