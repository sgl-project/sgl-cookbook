# NVIDIA Nemotron Model Configurations (Simplified Format)
# This file is compiled to data/models/generated/nemotron.yaml

vendor: nvidia

defaults:
  hardware:
    H200: { tp: 1 }
    B200: { tp: 1 }
  configurations:
    - name: default
      nodes: single
      optimization: balanced
      extra_args:
        - --trust-remote-code
        - --kv-cache-dtype
        - fp8_e4m3
    - name: tp2
      nodes: single
      optimization: balanced
      tp: 2
      extra_args:
        - --trust-remote-code
        - --kv-cache-dtype
        - fp8_e4m3
    - name: tp4
      nodes: single
      optimization: balanced
      tp: 4
      extra_args:
        - --trust-remote-code
        - --kv-cache-dtype
        - fp8_e4m3
    - name: tp8
      nodes: single
      optimization: balanced
      tp: 8
      extra_args:
        - --trust-remote-code
        - --kv-cache-dtype
        - fp8_e4m3
    - name: default-kv-bf16
      nodes: single
      optimization: balanced
      extra_args:
        - --trust-remote-code
        - --kv-cache-dtype
        - bf16

families:
  - name: Nemotron-Nano-3
    description: NVIDIA Nemotron-3-Nano-30B-A3B model
    llm:
      thinking_capability: hybrid
      tool_parser: qwen3_coder
      reasoning_parser: nano_v3

    models:
      # BF16 variant
      - name: NVIDIA-Nemotron-3-Nano-30B-A3B-BF16
        model_path: nvidia/NVIDIA-Nemotron-3-Nano-30B-A3B-BF16
        quantization: bf16

      # FP8 variant
      - name: NVIDIA-Nemotron-3-Nano-30B-A3B-FP8
        model_path: nvidia/NVIDIA-Nemotron-3-Nano-30B-A3B-FP8
        quantization: fp8
